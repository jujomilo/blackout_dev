# Fundamentos de Redes para Pentesters
###  2.1 â€“ Â¿QuÃ© es una IP?

### ğŸ¯ Objetivo

Comprender quÃ© es una direcciÃ³n IP, cÃ³mo se estructura, y cÃ³mo identificar la tuya en un entorno de red como el que has montado con Kali y Metasploitable.

### Â¿QuÃ© es una IP?

Una direcciÃ³n IP (***Internet Protocol***) es un identificador Ãºnico que se asigna a cada dispositivo en una red.
Es como una direcciÃ³n postal: permite que los datos sepan a dÃ³nde deben ir y de dÃ³nde vienen.

### Estructura de una IP v4
Ejemplo clÃ¡sico:

```
192.168.106.129
```
Este nÃºmero se compone de 4 bloques (octetos) separados por puntos:
```
[192].[168].[106].[129]
```
Cada bloque puede ir de 0 a 255. En total, una IP v4 ocupa 32 bits. Esto es debido a que estas direcciones se dividen en 4 apartados, y cada uno de ellos puede tener hasta 28 combinaciones. Por lo que al multiplicar estos cuatro sectores, sale 232, lo que quiere decir que con 32 bits podemos tener hasta 232 = 4, 294, 967,296 combinaciones de direcciones posibles.
```
0   --> 000
255 --> 111
```
## DivisiÃ³n funcional de una IP
Una IP se divide en dos partes:

1. Red (Network ID) â€“ Identifica la red a la que pertenece el equipo.

2. Host (Host ID) â€“ Identifica el equipo dentro de esa red.

La divisiÃ³n exacta entre red y host depende de la mÃ¡scara de subred, que explicaremos en el siguiente punto.

## ğŸ“Œ Ejemplo real en tu entorno
En el ejercicio 3 del mÃ³dulo anterior mÃ¡quinas estÃ¡n en la red:
```
192.168.106.0/24
```
Eso significa:

- 192.168.106 â†’ Parte comÃºn a toda la red (Network ID).

- .129 o .128 â†’ Identificador Ãºnico de cada equipo (Host ID).

### 2.2 â€“ MÃ¡scara de subred y red local

### ğŸ¯ Objetivo
Entender quÃ© es una mÃ¡scara de subred, cÃ³mo se relaciona con una direcciÃ³n IP, y cÃ³mo define el alcance de la red local donde estÃ¡s trabajando como pentester.

### Â¿QuÃ© es una mÃ¡scara de subred?
Una mÃ¡scara de subred (subnet mask) indica cuÃ¡ntos bits de una direcciÃ³n IP pertenecen a la red y cuÃ¡ntos al host (el equipo especÃ­fico).

### Ejemplo tÃ­pico 
Tu IP (por ejemplo):
```
192.168.106.0/24
```
Tu mÃ¡scara:
```
255.255.255.0
```
Esto significa:

- Primeros 24 bits (los tres primeros bloques) â†’ Red

- Ãšltimos 8 bits (el Ãºltimo bloque) â†’ Hosts posibles

### InterpretaciÃ³n de 255.255.255.0
Cada 255 es en binario:
```
11111111 â†’ todos los bits reservados para red
```
AsÃ­:

```
255.255.255.0 â†’ 11111111.11111111.11111111.00000000
```

## Â¿Por quÃ© los hosts van del 1 al 254?
Partimos de una IP como esta:

```
192.168.106.128/24
```
Ese /24 indica una mÃ¡scara de subred de 255.255.255.0, lo cual deja:

- 24 bits para la red (los tres primeros bloques: 192.168.106)

- 8 bits para los hosts (el Ãºltimo bloque)

### Â¿CuÃ¡ntos valores posibles hay en 8 bits?
8 bits = 2â¸ = 256 combinaciones posibles

Entonces, en una red con mÃ¡scara /24, el bloque final (el de hosts) puede ir de:

```
00000000 (0) â†’ hasta â†’ 11111111 (255)
```
Pero no se pueden usar todos. Veamos por quÃ©:

### âŒ DirecciÃ³n de red (no usable)
- 192.168.106.0 â†’ Identifica a la red entera

- Esta direcciÃ³n no se puede asignar a un dispositivo.
#### âŒ DirecciÃ³n de broadcast (no usable)
- 192.168.106.255 â†’ Broadcast

- Se usa para enviar un mensaje a todos los dispositivos de la red.

### Resumen
- En una red /24, puedes tener 254 hosts vÃ¡lidos.

- Las IPs .0 y .255 estÃ¡n reservadas (red y broadcast).

- La IP de broadcast se usa para enviar datos a todos los hosts del segmento.

- No es exclusiva de la puerta de enlace: cualquier host puede generar broadcast.